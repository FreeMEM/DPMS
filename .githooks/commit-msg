#!/bin/bash
# Hook para filtrar mensajes de coautor√≠a de IA

COMMIT_MSG_FILE=$1

# Filtrar l√≠neas con coautor√≠a de IA
sed -i '/ü§ñ Generated with/d' "$COMMIT_MSG_FILE"
sed -i '/Generated with \[Claude/d' "$COMMIT_MSG_FILE"
sed -i '/Co-Authored-By: Claude/d' "$COMMIT_MSG_FILE"
sed -i '/Co-Authored-By:.*anthropic/d' "$COMMIT_MSG_FILE"
sed -i '/Co-Authored-By:.*noreply@anthropic/d' "$COMMIT_MSG_FILE"

# Eliminar l√≠neas vac√≠as consecutivas al final
sed -i -e :a -e '/^\n*$/{$d;N;ba' -e '}' "$COMMIT_MSG_FILE"
